\documentclass{article}

\usepackage[parfill]{parskip}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{tikz}
\usepackage[utf8]{inputenc} % For åäö
\usepackage{afterpage}

\title{"Catch and Throw" ball and beam process\\FRTN01 -- Real-Time Systems}
\author{
Mattias Fält -- faldt.mattias@gmail.com
\and
Lucas Jimbergsson -- lucas@jimbergsson.se
\and
Erik Nossborn -- eki.nossborn@gmail.com
\and
Iulia Stoica -- mariajstoica@gmail.com
\and
\and
Supervisor -- Karl-Erik Årz\'{e}n
}

\setcounter{tocdepth}{2}

\begin{document}
\maketitle
\newpage

\tableofcontents
\newpage

\section{Introduction}
\label{sec:introduction}
% Should state the problem to be solved
The goal of this project is to control a "ball and beam" process (depicted in Figure \ref{fig:process}) in a predetermined sequence of tasks:
\begin{itemize}
\item Dispatch a ball from a ball magazine and let the beam catch it.
\item Determine the weight of the ball (comparing with three predefined possible weights).
\item Depending on the weight do either of the following:
\begin{itemize}
\item \textbf{Small ball}: Let it roll into the little cup to the upper left of the beam.
\item \textbf{Medium ball}: Throw it into a basket on the floor.
\item \textbf{Large ball}: Simply drop it on the floor.
\end{itemize}
\end{itemize}
\begin{figure}
\centering
\includegraphics[width=0.7\textwidth]{figures/process_fig.jpg}
\caption{The "ball and beam" process to control.}\label{fig:process}
\end{figure}

\section{Overall approach}
\input{approach}

\section{Controller structure} \label{sec:controller_structure}
% Should describe the control design aspects of the project.
\input{contr_struct}

\section{Program structure}
% Should describe the main program structure, both from a class and and a real-time perspective. If possible illustrate this with some type of figure.
\input{program}


\section{Operator communication}\label{OpCom}
% Should describe the user interface in the project including a short HowTo description on how to start and operate the program.
The program is started by running the \texttt{Main} class which can be found in the \texttt{main} package and the user interface should pop up shortly.

The user interface consists of a main window called "Ball and beam GUI" which contains three realtime graphs where the upper one and the middle one are plotting the reference values (in black) and measurements (in red) for the beam and the ball respectively and the last one is plotting the control signal. The window also contains two panels where the user can change the controller parameters online, and also a set of buttons which can change the running mode of the program:
\begin{itemize}
\item mode OFF: the controllers are off
\item mode BEAM: the program is running control of the beam's angle only and the user can change the reference value manually
\item mode BALL: the program is running control of both the beam's angle and the ball's position and the user can change the reference values manually
\item mode Sequence: the program is running sequence until stopped, i.e catch a ball, weigh the ball, deliver the ball and get ready for another sequence according to Section \ref{sec:controller_structure}.
\end{itemize}

The user interface also contains two smaller windows called "Angle RefGen" and "Position RefGen" where the user can change the reference values of the beam's angle and the ball's position when the program is running in one of the manual modes, i.e BEAM or BALL mode.
\section{Results}
\input{results}

\afterpage{\clearpage}

\section{Conclusions}
\input{conclusions}

\afterpage{\clearpage}

\appendix

\section{Process model}\label{sec:model}
\input{model}

\afterpage{\clearpage}

\begin{thebibliography}{9}
\bibitem{NR}
  Thomas Bewley,
  \emph{Numerical Renaissance: simulation, optimization, \& control}.
  Renaissance Press,
  http://numerical-renaissance.com/NR.pdf

\end{thebibliography}

\end{document}



